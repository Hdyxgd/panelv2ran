<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram v2ran - Ø³Ø±ÙˆÛŒØ³ VPN Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø±Ø§ÛŒÚ¯Ø§Ù†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'vazir': ['Vazirmatn', 'Tahoma', 'Arial', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.6s ease-out forwards',
                        'pulse-fast': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'gradient-bg': 'gradient-bg 15s ease infinite',
                    },
                    keyframes: {
                        fadeIn: { 'from': { opacity: 0 }, 'to': { opacity: 1 } },
                        slideUp: { 
                            'from': { transform: 'translateY(30px)', opacity: 0 }, 
                            'to': { transform: 'translateY(0)', opacity: 1 } 
                        },
                        'gradient-bg': {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '50%': { 'background-position': '100% 50%' },
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Vazirmatn', Tahoma, Arial, sans-serif;
            line-height: 1.6;
            scroll-behavior: smooth;
            background: linear-gradient(-45deg, #0f0c29, #302b63, #24243e);
            background-size: 400% 400%;
            animation: gradient-bg 15s ease infinite;
        }
        .card-glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
        }
        .card-glass:hover {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }
        .status-online {
            background: #10b981;
            box-shadow: 0 0 12px rgba(16, 185, 129, 0.8);
            animation: pulse-fast 2s infinite;
        }
        .ripple { position: relative; overflow: hidden; }
        .ripple::before {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 0; height: 0; border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s;
        }
        .ripple:active::before { width: 300px; height: 300px; }
        .timeline-item::before {
            content: '';
            background: rgba(255,255,255,0.2);
            width: 3px;
            height: 100%;
            position: absolute;
            right: 1.1rem;
            top: 1.5rem;
            z-index: 1;
        }
        .timeline-container > div:last-child .timeline-item::before {
            display: none;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .animated-section {
            opacity: 0;
        }
        /* Custom scrollbar for config list */
        .config-list::-webkit-scrollbar {
            width: 8px;
        }
        .config-list::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }
        .config-list::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
        }
        .config-list::-webkit-scrollbar-thumb:hover {
            background: rgba(255,255,255,0.3);
        }
        
        /* Proxy Manager Styles */
        .proxy-manager-container {
            background: rgba(25, 32, 45, 0.7);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .proxy-manager-header {
            background: linear-gradient(to right, #1a2980, #26d0ce);
            color: white;
            padding: 25px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .proxy-manager-header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }
        
        .tab-buttons {
            display: flex;
            margin-bottom: 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tab-btn {
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.3s;
            flex: 1;
            text-align: center;
        }
        
        .tab-btn.active {
            color: #3498db;
            border-bottom-color: #3498db;
            background: rgba(52, 152, 219, 0.1);
        }
        
        .tab-content {
            display: none;
            padding: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        #subscriptionUrl, .config-textarea {
            flex: 1;
            padding: 14px 20px;
            background: rgba(10, 15, 25, 0.7);
            border: 2px solid rgba(52, 152, 219, 0.3);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
            color: white;
        }
        
        .config-textarea {
            width: 100%;
            min-height: 150px;
            font-family: monospace;
            margin-bottom: 15px;
        }
        
        #subscriptionUrl:focus, .config-textarea:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(to right, #3498db, #2980b9);
        }
        
        .btn-success {
            background: linear-gradient(to right, #2ecc71, #27ae60);
        }
        
        .btn-purple {
            background: linear-gradient(to right, #9b59b6, #8e44ad);
        }
        
        .protocol-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
            justify-content: center;
        }
        
        .protocol-btn {
            padding: 10px 20px;
            background: rgba(30, 40, 60, 0.7);
            border: 1px solid rgba(52, 152, 219, 0.3);
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .protocol-btn:hover {
            background: rgba(52, 152, 219, 0.3);
        }
        
        .protocol-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
            box-shadow: 0 0 15px rgba(52, 152, 219, 0.4);
        }
        
        .proxy-list {
            max-height: 500px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .proxy-card {
            background: linear-gradient(135deg, rgba(30, 40, 60, 0.7), rgba(15, 22, 40, 0.8));
            border: 1px solid rgba(52, 152, 219, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .proxy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border-color: rgba(52, 152, 219, 0.5);
        }
        
        .proxy-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, #3498db, #2980b9);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .protocol {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            font-size: 18px;
        }
        
        .protocol.vless {
            color: #ff6b6b;
        }
        
        .protocol.vmess {
            color: #9b59b6;
        }
        
        .protocol.trojan {
            color: #1dd1a1;
        }
        
        .protocol.shadowsocks {
            color: #feca57;
        }
        
        .protocol.other {
            color: #c8d6e5;
        }
        
        .proxy-name {
            font-weight: 600;
            font-size: 18px;
            color: #c8d6e5;
        }
        
        .proxy-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .detail-item {
            display: flex;
            flex-direction: column;
        }
        
        .detail-label {
            font-size: 13px;
            color: #8395a7;
            margin-bottom: 5px;
        }
        
        .detail-value {
            font-weight: 500;
            word-break: break-all;
            color: #f1f2f6;
        }
        
        .copy-btn {
            background: linear-gradient(to right, #2ecc71, #27ae60);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 10px 20px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            width: 100%;
            justify-content: center;
        }
        
        .copy-btn:hover {
            background: linear-gradient(to right, #27ae60, #219653);
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }
        
        .no-proxies {
            text-align: center;
            padding: 40px;
            color: #8395a7;
        }
        
        .no-proxies i {
            font-size: 50px;
            margin-bottom: 20px;
            color: rgba(189, 195, 199, 0.3);
        }
        
        .status {
            text-align: center;
            padding: 15px;
            font-weight: 500;
            color: #8395a7;
            background: rgba(15, 22, 40, 0.7);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .proxy-count {
            background: rgba(52, 152, 219, 0.2);
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-left: 10px;
        }
        
        .ping-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: 5px;
        }
        
        .ping-good {
            background-color: #2ecc71;
        }
        
        .ping-medium {
            background-color: #f39c12;
        }
        
        .ping-bad {
            background-color: #e74c3c;
        }
        
        .ping-options {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            justify-content: center;
        }
        
        .ping-option-btn {
            padding: 8px 15px;
            background: rgba(40, 50, 70, 0.7);
            border: 1px solid rgba(52, 152, 219, 0.3);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }
        
        .ping-option-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }
        
        .flag-icon {
            width: 20px;
            height: 15px;
            margin-left: 5px;
            vertical-align: middle;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .location-details {
            background: rgba(10, 15, 25, 0.5);
            border-radius: 8px;
            padding: 12px;
            margin-top: 10px;
            border-left: 3px solid #3498db;
        }
        
        .location-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 13px;
        }
        
        .location-label {
            color: #8395a7;
        }
        
        .location-value {
            color: #f1f2f6;
            font-weight: 500;
        }
        
        @media (max-width: 768px) {
            .input-group, .button-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .proxy-details {
                grid-template-columns: 1fr;
            }
            
            .tab-buttons {
                overflow-x: auto;
                white-space: nowrap;
            }
            
            .location-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body class="min-h-screen text-gray-200">

    <!-- Welcome Modal -->
    <div id="welcomeModal" class="hidden fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in">
        <div class="bg-white rounded-3xl p-8 max-w-md w-full mx-4 animate-slide-up shadow-2xl border">
            <div class="text-center">
                <div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                    <span class="text-3xl">ğŸ‰</span>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Ø¨Ù‡ Telegram v2ran Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</h2>
                <p class="text-gray-600 mb-6 leading-relaxed">
                    Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ø³ÙˆÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯ Ùˆ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø§Ø³Øª. Ø§Ù…ÛŒØ¯ÙˆØ§Ø±ÛŒÙ… Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ù…Ø§ Ù„Ø°Øª Ø¨Ø¨Ø±ÛŒØ¯.
                </p>
                <button onclick="closeWelcome()" class="w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white py-3 rounded-xl font-semibold ripple transition-all shadow-lg hover:shadow-xl">
                    Ø¨Ø²Ù† Ø¨Ø±ÛŒÙ…!
                </button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="py-20 relative overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <div class="text-center animate-fade-in">
                <div class="flex items-center justify-center mb-10">
                    <div class="card-glass rounded-3xl flex items-center justify-center w-24 h-24 ml-6 shadow-2xl">
                        <span class="text-4xl text-white">ğŸš€</span>
                    </div>
                    <div>
                        <h1 class="text-5xl md:text-6xl font-black mb-3 text-white">Telegram v2ran</h1>
                        <p class="text-blue-200 text-lg md:text-xl font-medium">Ø³Ø±ÙˆÛŒØ³ VPN Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø±Ø§ÛŒÚ¯Ø§Ù†</p>
                    </div>
                </div>
                
                <div class="card-glass rounded-3xl p-6 md:p-8 inline-block shadow-2xl mb-6">
                    <div class="grid grid-cols-3 gap-4 md:gap-8">
                        <div class="text-center">
                            <div class="flex items-center justify-center mb-3">
                                <div class="w-3 h-3 status-online rounded-full ml-2"></div>
                                <div class="font-bold text-lg text-gray-100">ÙˆØ¶Ø¹ÛŒØª</div>
                            </div>
                            <div class="text-blue-200 text-sm font-mono">Ø¢Ù¾ØªØ§ÛŒÙ…: <span id="uptime" class="font-semibold">--</span>%</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-2xl mb-1 text-white" id="activeServers">24</div>
                            <div class="text-blue-200 text-sm">Ø³Ø±ÙˆØ± ÙØ¹Ø§Ù„</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-2xl mb-1 text-white" id="serverPing">--</div>
                            <div class="text-blue-200 text-sm">Ù¾ÛŒÙ†Ú¯</div>
                        </div>
                    </div>
                </div>

                <div class="card-glass rounded-3xl p-6 md:p-8 inline-block shadow-2xl max-w-2xl w-full">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                        <div class="flex flex-col items-center">
                            <i class="fa-solid fa-wifi text-blue-300 text-2xl mb-3"></i>
                            <h3 class="text-gray-300 text-sm font-bold mb-1">Ø¢Ø¯Ø±Ø³ IP Ø´Ù…Ø§</h3>
                            <p id="user-ip" class="font-mono text-white font-semibold animate-pulse">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                        </div>
                         <div class="flex flex-col items-center">
                            <i class="fa-solid fa-location-dot text-green-300 text-2xl mb-3"></i>
                            <h3 class="text-gray-300 text-sm font-bold mb-1">Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ</h3>
                            <p id="user-location" class="font-mono text-white font-semibold animate-pulse">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                        </div>
                         <div class="flex flex-col items-center">
                            <i class="fa-solid fa-building text-purple-300 text-2xl mb-3"></i>
                            <h3 class="text-gray-300 text-sm font-bold mb-1">Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡</h3>
                            <p id="user-isp" class="font-mono text-white font-semibold animate-pulse">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Sections -->
    <div class="space-y-16 md:space-y-24 pb-16">

        <!-- Quick Actions -->
        <section class="relative z-20 container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <a href="#sublink" class="card-glass rounded-3xl p-6 text-center ripple group">
                    <div class="w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-link text-3xl text-white"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 text-white">Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú©</h3>
                    <p class="text-green-300 font-semibold mt-2">Ø§ÙØ²ÙˆØ¯Ù† Ù‡Ù…Ù‡ Ø³Ø±ÙˆØ±Ù‡Ø§</p>
                </a>
                <a href="#tools" class="card-glass rounded-3xl p-6 text-center ripple group">
                    <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-toolbox text-3xl text-white"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 text-white">Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</h3>
                    <p class="text-blue-300 font-semibold mt-2">ØªØ³Øª Ù¾ÛŒÙ†Ú¯ Ùˆ Ø§Ù…Ù†ÛŒØª</p>
                </a>
                <a href="#notifications" class="card-glass rounded-3xl p-6 text-center ripple group">
                    <div class="w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-bell text-3xl text-white"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 text-white">Ø¢Ø®Ø±ÛŒÙ† Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§</h3>
                    <p class="text-amber-300 font-semibold mt-2">Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡â€ŒÙ‡Ø§</p>
                </a>
            </div>
        </section>

        <!-- Subscription Link Section -->
        <section id="sublink" class="animated-section container mx-auto px-4">
            <div class="card-glass rounded-3xl shadow-2xl p-8 max-w-4xl mx-auto text-center">
                 <div class="w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg">
                    <i class="fa-solid fa-link text-3xl text-white"></i>
                </div>
                <h2 class="text-3xl font-bold mb-4 text-white">
                    Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú© (Subscription)
                </h2>
                <p class="text-gray-300 text-lg mb-6">Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ø±Ø§ Ø¯Ø± Ú©Ù„Ø§ÛŒÙ†Øª Ø®ÙˆØ¯ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ ØªØ§ Ù‡Ù…Ù‡ Ø³Ø±ÙˆØ±Ù‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆÙ†Ø¯.</p>
                <div class="bg-black bg-opacity-20 rounded-xl p-4 mb-6 shadow-inner relative z-10">
                    <p id="subLink" class="font-mono text-center text-white font-bold text-sm md:text-lg break-all">https://dev1.irdevs.sbs</p>
                </div>
                <button onclick="copySubLink()" class="bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white px-8 py-4 rounded-xl font-bold text-lg ripple transition-all shadow-lg hover:shadow-xl">
                    <i class="fa-solid fa-copy ml-2"></i>
                    Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Ù„ÛŒÙ†Ú©
                </button>
            </div>
        </section>

        <!-- Notifications / Updates Section -->
        <section id="notifications" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white">
                    Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡â€ŒÙ‡Ø§
                </h2>
                <p class="text-gray-300 text-lg">Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† ØªØºÛŒÛŒØ±Ø§Øª Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ Ù…Ø·Ù„Ø¹ Ø¨Ø§Ø´ÛŒØ¯.</p>
            </div>
            <div class="max-w-3xl mx-auto timeline-container">
                 <!-- News Item 1 -->
                <div>
                    <div class="timeline-item relative flex items-start space-x-6 space-x-reverse pb-8">
                        <div class="flex-shrink-0 z-10">
                            <span class="flex items-center justify-center w-10 h-10 rounded-full bg-blue-500 text-white shadow-md">
                                <i class="fa-solid fa-cloud"></i>
                            </span>
                        </div>
                        <div class="card-glass p-6 rounded-2xl w-full">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-bold text-lg text-blue-300">Û¸ Ø³Ø±ÙˆØ± Ø¬Ø¯ÛŒØ¯ CDN Ø¢Ù„Ù…Ø§Ù†</h3>
                                <span class="text-xs text-gray-400 font-medium">Ø§Ù…Ø±ÙˆØ²</span>
                            </div>
                            <p class="text-gray-300">Û¸ Ø³Ø±ÙˆØ± Ø¬Ø¯ÛŒØ¯ Ø¢Ù„Ù…Ø§Ù† Ø¨Ø§ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ CDN Ú©Ù„ÙˆØ¯ÙÙ„Ø± Ø¨Ø±Ø§ÛŒ Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ùˆ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§ØªØ± Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯. Ø§ÛŒÙ† Ø³Ø±ÙˆØ±Ù‡Ø§ Ø¨Ø§ ØªÙ…Ø§Ù… Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ V2Ray Ø³Ø§Ø²Ú¯Ø§Ø± Ù‡Ø³ØªÙ†Ø¯. Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØªØŒ Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú© Ø®ÙˆØ¯ Ø±Ø§ Ø¢Ù¾Ø¯ÛŒØª Ú©Ù†ÛŒØ¯.</p>
                        </div>
                    </div>
                </div>
                <!-- News Item 2 -->
                <div>
                    <div class="timeline-item relative flex items-start space-x-6 space-x-reverse pb-8">
                        <div class="flex-shrink-0 z-10">
                            <span class="flex items-center justify-center w-10 h-10 rounded-full bg-green-500 text-white shadow-md">
                                <i class="fa-solid fa-gamepad"></i>
                            </span>
                        </div>
                        <div class="card-glass p-6 rounded-2xl w-full">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-bold text-lg text-green-300">Û¶ Ø³Ø±ÙˆØ± Ù†ÛŒÙ…â€ŒØ¨Ù‡Ø§ Ù…Ø®ØµÙˆØµ Ú¯ÛŒÙ…Ø±Ù‡Ø§</h3>
                                <span class="bg-yellow-200 text-yellow-800 text-xs font-bold px-2.5 py-1 rounded-full">ÙˆÛŒÚ˜Ù‡</span>
                            </div>
                            <p class="text-gray-300">Û¶ Ø³Ø±ÙˆØ± Ø¬Ø¯ÛŒØ¯ Ùˆ Ù¾Ø±Ø³Ø±Ø¹Øª Ø¨Ø§ Ø¯ÛŒØªØ§Ø³Ù†ØªØ± Ø¯Ø§Ø®Ù„ÛŒ **Ø±Ø³Ù¾ÛŒÙ†Ø§** Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯. Ø§ÛŒÙ† Ø³Ø±ÙˆØ±Ù‡Ø§ Ø¨Ø§ ØªØ±Ø§ÙÛŒÚ© **Ù†ÛŒÙ…â€ŒØ¨Ù‡Ø§** Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´Ø¯Ù‡ Ùˆ Ø¨Ù‡ØªØ±ÛŒÙ† Ù¾ÛŒÙ†Ú¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ùˆ Ø§Ø³ØªØ±ÛŒÙ… ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Server Info -->
        <section id="servers" class="animated-section container mx-auto px-4">
            <div class="card-glass rounded-3xl shadow-2xl p-6 md:p-8 max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold mb-4 text-white">
                        Ø¯Ø±ÛŒØ§ÙØª Ú©Ø§Ù†ÙÛŒÚ¯
                    </h2>
                    <p class="text-gray-300 text-lg">Ú©Ø§Ù†ÙÛŒÚ¯ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ú©Ù¾ÛŒ ÛŒØ§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒØ¯.</p>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Direct Copy Section -->
                    <div class="card-glass rounded-2xl p-8">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                                <span class="text-3xl text-white">âš™ï¸</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-2">Ú©Ù¾ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ú©Ø§Ù†ÙÛŒÚ¯</h3>
                            <p class="text-blue-300">Ù„ÛŒØ³Øª Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¢Ù„Ù…Ø§Ù† (CDN)</p>
                        </div>
                        
                        <div id="config-list-container" class="space-y-3 h-64 overflow-y-auto config-list pr-2">
                            <!-- Config buttons will be injected here by JS -->
                        </div>
                    </div>
                    
                    <!-- QR Code Generator -->
                    <div class="card-glass rounded-2xl p-8">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                                <span class="text-3xl text-white">ğŸ“±</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-2">QR Ú©Ø¯ Ú©Ø§Ù†ÙÛŒÚ¯</h3>
                            <p class="text-purple-300">Ø§Ø³Ú©Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯</p>
                        </div>
                        
                        <div class="bg-white rounded-xl p-4 mb-6 shadow-inner text-center">
                            <div id="qrcode" class="flex justify-center"></div>
                        </div>
                        
                        <div>
                            <select id="configSelect" onchange="generateQR()" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 text-white font-medium transition-all">
                                <option value="cf_de_1">VLESS - Ø¢Ù„Ù…Ø§Ù† (CDN 1) ğŸ‡©ğŸ‡ª</option>
                                <option value="cf_de_2">VLESS - Ø¢Ù„Ù…Ø§Ù† (CDN 2) ğŸ‡©ğŸ‡ª</option>
                                <option value="cf_de_tr_5">Trojan - Ø¢Ù„Ù…Ø§Ù† (CDN 5) ğŸ‡©ğŸ‡ª</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Real Tools Section -->
        <section id="tools" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white">
                    Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ
                </h2>
                <p class="text-gray-300 text-lg">ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</p>
            </div>
            <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
                <!-- Live Ping Test -->
                <div class="card-glass rounded-2xl p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                            <i class="fa-solid fa-signal text-3xl text-white"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">ØªØ³Øª Ø²Ù†Ø¯Ù‡ Ù¾ÛŒÙ†Ú¯ Ø³Ø±ÙˆØ±Ù‡Ø§</h3>
                        <p class="text-cyan-300">Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø³Ø±ÙˆØ± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯</p>
                    </div>
                    <div id="ping-list-container" class="space-y-3 mb-6 h-48 overflow-y-auto config-list pr-2">
                        <!-- Ping results will be injected here -->
                    </div>
                    <button onclick="runAllPings()" id="pingTestBtn" class="w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white px-8 py-3 rounded-xl font-bold text-lg ripple transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa-solid fa-play ml-2"></i>
                        Ø´Ø±ÙˆØ¹ ØªØ³Øª Ù¾ÛŒÙ†Ú¯
                    </button>
                </div>

                <!-- DNS Leak Test -->
                <div class="card-glass rounded-2xl p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-gradient-to-br from-amber-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                            <i class="fa-solid fa-shield-virus text-3xl text-white"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø´Øª DNS</h3>
                        <p class="text-red-300">Ø§Ù…Ù†ÛŒØª Ø§ØªØµØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø³Ù†Ø¬ÛŒØ¯</p>
                    </div>
                    <div id="dns-leak-result" class="text-center h-48 flex flex-col justify-center items-center">
                        <p class="text-gray-400">Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØªØŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.</p>
                    </div>
                    <button onclick="checkDNSLeak()" id="dnsTestBtn" class="w-full bg-gradient-to-r from-amber-500 to-red-500 hover:from-amber-600 hover:to-red-600 text-white px-8 py-3 rounded-xl font-bold text-lg ripple transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa-solid fa-search ml-2"></i>
                        Ø´Ø±ÙˆØ¹ Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ù†ÛŒØª
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Proxy Manager Section -->
        <section id="proxy-manager" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white">
                    Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
                </h2>
                <p class="text-gray-300 text-lg">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø² Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† ÛŒØ§ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ù…Ø³ØªÙ‚ÛŒÙ… Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ | ØªØ´Ø®ÛŒØµ Ù„ÙˆÚ©ÛŒØ´Ù† Ùˆ Ù¾ÛŒÙ†Ú¯ ÙˆØ§Ù‚Ø¹ÛŒ</p>
            </div>
            
            <div class="card-glass rounded-3xl shadow-2xl p-6 max-w-6xl mx-auto">
                <div class="proxy-manager-container">
                    <div class="proxy-manager-header">
                        <h1><i class="fas fa-server"></i> Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ©Ø³ÛŒ</h1>
                        <p class="subtitle">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø² Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† ÛŒØ§ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ù…Ø³ØªÙ‚ÛŒÙ… Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ | ØªØ´Ø®ÛŒØµ Ù„ÙˆÚ©ÛŒØ´Ù† Ùˆ Ù¾ÛŒÙ†Ú¯ ÙˆØ§Ù‚Ø¹ÛŒ</p>
                    </div>
                    
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="subscription-tab"><i class="fas fa-link"></i> Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù†</button>
                        <button class="tab-btn" data-tab="configs-tab"><i class="fas fa-code"></i> Ú©Ø§Ù†ÙÛŒÚ¯ Ù…Ø³ØªÙ‚ÛŒÙ…</button>
                        <button class="tab-btn" data-tab="batch-tab"><i class="fas fa-paste"></i> Ú¯Ø±ÙˆÙ‡ÛŒ</button>
                    </div>
                    
                    <!-- ØªØ¨ Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† -->
                    <div class="tab-content active" id="subscription-tab">
                        <div class="input-group">
                            <input type="url" id="subscriptionUrl" placeholder="https://example.com/subscription/link" autocomplete="off" value="https://raw.githubusercontent.com/Mosifree/-FREE2CONFIG/refs/heads/main/Movaghat">
                            <button id="loadBtn" class="btn btn-primary">
                                <i class="fas fa-download"></i> Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ
                            </button>
                        </div>
                        
                        <div class="ping-options">
                            <div class="ping-option-btn active" data-method="http">Ù¾ÛŒÙ†Ú¯ HTTP</div>
                            <div class="ping-option-btn" data-method="tcp">Ù¾ÛŒÙ†Ú¯ TCP</div>
                            <div class="ping-option-btn" data-method="mixed">Ù¾ÛŒÙ†Ú¯ ØªØ±Ú©ÛŒØ¨ÛŒ</div>
                        </div>
                        
                        <div class="protocol-filters">
                            <div class="protocol-btn active" data-protocol="all">Ù‡Ù…Ù‡ <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="vless">Vless <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="vmess">VMess <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="trojan">Trojan <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="shadowsocks">Shadowsocks <span class="proxy-count">0</span></div>
                        </div>
                        
                        <button id="pingAllBtn" class="btn btn-purple">
                            <i class="fas fa-network-wired"></i> Ù¾ÛŒÙ†Ú¯ Ù‡Ù…Ù‡ Ø³Ø±ÙˆØ±Ù‡Ø§
                        </button>
                    </div>
                    
                    <!-- ØªØ¨ Ú©Ø§Ù†ÙÛŒÚ¯ Ù…Ø³ØªÙ‚ÛŒÙ… -->
                    <div class="tab-content" id="configs-tab">
                        <textarea class="config-textarea" id="configTextarea" placeholder="Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯ (Ù‡Ø± Ø®Ø· ÛŒÚ© Ú©Ø§Ù†ÙÛŒÚ¯)"></textarea>
                        
                        <div class="button-group">
                            <button id="parseConfigsBtn" class="btn btn-primary">
                                <i class="fas fa-code"></i> ØªØ¬Ø²ÛŒÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
                            </button>
                            <button id="pingConfigsBtn" class="btn btn-purple">
                                <i class="fas fa-network-wired"></i> Ù¾ÛŒÙ†Ú¯ Ù‡Ù…Ù‡
                            </button>
                        </div>
                        
                        <div class="ping-options">
                            <div class="ping-option-btn active" data-method="http">Ù¾ÛŒÙ†Ú¯ HTTP</div>
                            <div class="ping-option-btn" data-method="tcp">Ù¾ÛŒÙ†Ú¯ TCP</div>
                            <div class="ping-option-btn" data-method="mixed">Ù¾ÛŒÙ†Ú¯ ØªØ±Ú©ÛŒØ¨ÛŒ</div>
                        </div>
                        
                        <div class="protocol-filters">
                            <div class="protocol-btn active" data-protocol="all">Ù‡Ù…Ù‡ <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="vless">Vless <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="vmess">VMess <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="trojan">Trojan <span class="proxy-count">0</span></div>
                            <div class="protocol-btn" data-protocol="shadowsocks">Shadowsocks <span class="proxy-count">0</span></div>
                        </div>
                    </div>
                    
                    <!-- ØªØ¨ Ú¯Ø±ÙˆÙ‡ÛŒ -->
                    <div class="tab-content" id="batch-tab">
                        <div class="button-group">
                            <button id="exportConfigsBtn" class="btn btn-success">
                                <i class="fas fa-file-export"></i> Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
                            </button>
                            <button id="copyAllBtn" class="btn btn-primary">
                                <i class="fas fa-copy"></i> Ú©Ù¾ÛŒ Ù‡Ù…Ù‡
                            </button>
                        </div>
                        
                        <div class="button-group">
                            <button id="exportSelectedBtn" class="btn btn-success">
                                <i class="fas fa-file-export"></i> Ø®Ø±ÙˆØ¬ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡â€ŒÙ‡Ø§
                            </button>
                            <button id="copySelectedBtn" class="btn btn-primary">
                                <i class="fas fa-copy"></i> Ú©Ù¾ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡â€ŒÙ‡Ø§
                            </button>
                        </div>
                        
                        <div class="button-group">
                            <button id="clearAllBtn" class="btn">
                                <i class="fas fa-trash"></i> Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ù„ÛŒØ³Øª Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ -->
                    <div class="proxy-list" id="proxyList">
                        <div class="no-proxies">
                            <i class="fas fa-cloud-download-alt"></i>
                            <h3>Ù‡Ù†ÙˆØ² Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</h3>
                            <p>Ù„Ø·ÙØ§Ù‹ Ù„ÛŒÙ†Ú© Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ø±Ø§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ paste Ú©Ù†ÛŒØ¯</p>
                        </div>
                    </div>
                    
                    <div class="status" id="proxyStatus">
                        Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
                    </div>
                </div>
            </div>
        </section>

        <!-- Download Clients -->
        <section id="download" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white">
                    Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§
                </h2>
                <p class="text-gray-300 text-lg">Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
                <a href="https://github.com/2dust/v2rayNG/releases" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-android text-5xl text-green-400 mb-4"></i>
                    <h3 class="font-bold text-xl text-white">Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯</h3>
                    <p class="text-green-300 font-semibold mt-2">V2RayNG</p>
                </a>
                <a href="https://apps.apple.com/app/streisand/id6450534064" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-apple text-5xl text-gray-300 mb-4"></i>
                    <h3 class="font-bold text-xl text-white">iOS</h3>
                    <p class="text-gray-200 font-semibold mt-2">Streisand</p>
                </a>
                <a href="https://github.com/2dust/v2rayN/releases" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-windows text-5xl text-blue-400 mb-4"></i>
                    <h3 class="font-bold text-xl text-white">ÙˆÛŒÙ†Ø¯ÙˆØ²</h3>
                    <p class="text-blue-300 font-semibold mt-2">v2rayN</p>
                </a>
                <a href="https://github.com/hiddify/hiddify-next/releases" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-apple text-5xl text-gray-400 mb-4"></i>
                    <h3 class="font-bold text-xl text-white">macOS</h3>
                    <p class="text-gray-300 font-semibold mt-2">Hiddify Next</p>
                </a>
            </div>
        </section>

        <!-- Tutorial Section -->
        <section id="tutorial" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white">
                    Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¯Ø± Û´ Ù…Ø±Ø­Ù„Ù‡
                </h2>
                <p class="text-gray-300 text-lg">Ø¨Ù‡ Ø³Ø§Ø¯Ú¯ÛŒ Ùˆ Ø¯Ø± Ú†Ù†Ø¯ Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯ Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center text-white">
                <!-- Step 1 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-emerald-400 to-green-500 text-white text-4xl font-bold shadow-lg mb-4">1</div>
                    <h3 class="text-xl font-bold mb-2">Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú©</h3>
                    <p class="text-gray-300">
                        Ø§Ø¨ØªØ¯Ø§ Ø¨Ù‡ <a href="#sublink" class="text-blue-400 font-semibold hover:underline">Ø¨Ø®Ø´ Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú©</a> Ø¨Ø±ÙˆÛŒØ¯ Ùˆ Ù„ÛŒÙ†Ú© Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯.
                    </p>
                </div>
                <!-- Step 2 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 text-white text-4xl font-bold shadow-lg mb-4">2</div>
                    <h3 class="text-xl font-bold mb-2">Ù†ØµØ¨ Ú©Ù„Ø§ÛŒÙ†Øª</h3>
                    <p class="text-gray-300">
                        Ø³Ù¾Ø³ Ø§Ø² <a href="#download" class="text-blue-400 font-semibold hover:underline">Ø¨Ø®Ø´ Ø¯Ø§Ù†Ù„ÙˆØ¯</a>ØŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ù†Ø§Ø³Ø¨ Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯.
                    </p>
                </div>
                <!-- Step 3 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-purple-400 to-violet-500 text-white text-4xl font-bold shadow-lg mb-4">3</div>
                    <h3 class="text-xl font-bold mb-2">Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±ÙˆØ±Ù‡Ø§</h3>
                    <p class="text-gray-300">
                        Ø¯Ø± Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†ØŒ Ø§Ø² Ù‚Ø³Ù…Øª Ø§Ø´ØªØ±Ø§Ú© (Subscription)ØŒ Ù„ÛŒÙ†Ú© Ú©Ù¾ÛŒ Ø´Ø¯Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ ØªØ§ Ø³Ø±ÙˆØ±Ù‡Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆÙ†Ø¯.
                    </p>
                </div>
                <!-- Step 4 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-pink-400 to-rose-500 text-white text-4xl font-bold shadow-lg mb-4">4</div>
                    <h3 class="text-xl font-bold mb-2">Ø§ØªØµØ§Ù„ Ù†Ù‡Ø§ÛŒÛŒ</h3>
                    <p class="text-gray-300">
                        ÛŒÚ© Ø³Ø±ÙˆØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ú©Ù…Ù‡ Ø§ØªØµØ§Ù„ Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯. Ø§Ø² Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯ Ù„Ø°Øª Ø¨Ø¨Ø±ÛŒØ¯!
                    </p>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white">
                    Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„
                </h2>
                <p class="text-gray-300 text-lg">Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ù¾Ø±Ø³Ø´â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒØ¬ Ø´Ù…Ø§</p>
            </div>
            <div class="max-w-4xl mx-auto space-y-4" id="faq-container">
                <!-- FAQ items will be injected here by JS -->
            </div>
        </section>

        <!-- Troubleshooting Section -->
        <section id="troubleshooting" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 bg-gradient-to-r from-red-500 via-orange-500 to-amber-500 bg-clip-text text-transparent">
                    Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯
                </h2>
                <p class="text-gray-300 text-lg">Ù…Ø´Ú©Ù„Ø§Øª Ø§Ø­ØªÙ…Ø§Ù„ÛŒ Ùˆ Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ¹</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- Problem 1 -->
                <div class="card-glass rounded-2xl p-6 text-center">
                    <div class="w-16 h-16 bg-red-500 bg-opacity-20 text-red-400 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
                        <i class="fa-solid fa-wifi-slash"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">ÙˆØµÙ„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ</h3>
                    <ul class="text-gray-300 space-y-3 text-right">
                        <li class="flex items-start"><i class="fa-solid fa-cloud-arrow-down text-blue-400 ml-2 mt-1 w-5 text-center"></i>Ø§Ø¨ØªØ¯Ø§ Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú© Ø±Ø§ Ø¢Ù¾Ø¯ÛŒØª Ú©Ù†ÛŒØ¯.</li>
                        <li class="flex items-start"><i class="fa-solid fa-network-wired text-yellow-400 ml-2 mt-1 w-5 text-center"></i>Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø®ÙˆØ¯ Ø±Ø§ Ú†Ú© Ú©Ù†ÛŒØ¯.</li>
                        <li class="flex items-start"><i class="fa-solid fa-server text-purple-400 ml-2 mt-1 w-5 text-center"></i>ÛŒÚ© Ø³Ø±ÙˆØ± Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.</li>
                    </ul>
                </div>
                 <!-- Problem 2 -->
                <div class="card-glass rounded-2xl p-6 text-center">
                    <div class="w-16 h-16 bg-orange-500 bg-opacity-20 text-orange-400 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
                        <i class="fa-solid fa-gauge-simple-low"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Ø³Ø±Ø¹Øª Ù¾Ø§ÛŒÛŒÙ† Ø§Ø³ØªØŸ</h3>
                    <ul class="text-gray-300 space-y-3 text-right">
                        <li class="flex items-start"><i class="fa-solid fa-bolt text-yellow-400 ml-2 mt-1 w-5 text-center"></i>Ø¨Ù‡ Ø¨Ø®Ø´ ØªØ³Øª Ø³Ø±Ø¹Øª Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.</li>
                        <li class="flex items-start"><i class="fa-solid fa-signal text-green-400 ml-2 mt-1 w-5 text-center"></i>Ø¨Ù‡ Ø³Ø±ÙˆØ±ÛŒ Ø¨Ø§ Ù¾ÛŒÙ†Ú¯ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯.</li>
                        <li class="flex items-start"><i class="fa-solid fa-window-close text-red-400 ml-2 mt-1 w-5 text-center"></i>Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ù…ØµØ±Ù Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ø§ Ø¨Ø¨Ù†Ø¯ÛŒØ¯.</li>
                    </ul>
                </div>
                 <!-- Problem 3 -->
                <div class="card-glass rounded-2xl p-6 text-center">
                    <div class="w-16 h-16 bg-blue-500 bg-opacity-20 text-blue-400 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Ù‡Ù†ÙˆØ² Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±ÛŒØ¯ØŸ</h3>
                    <ul class="text-gray-300 space-y-3 text-right">
                        <li class="flex items-start"><i class="fa-solid fa-arrow-up-from-bracket text-sky-400 ml-2 mt-1 w-5 text-center"></i>Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ù†Ø³Ø®Ù‡ Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯.</li>
                        <li class="flex items-start"><i class="fa-solid fa-power-off text-red-400 ml-2 mt-1 w-5 text-center"></i>ÛŒÚ© Ø¨Ø§Ø± Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª Ú©Ù†ÛŒØ¯.</li>
                        <li class="flex items-start"><i class="fa-solid fa-headset text-green-400 ml-2 mt-1 w-5 text-center"></i>Ø¨Ø§ <a href="https://t.me/itsthemoein" class="text-blue-400 font-semibold">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</a> Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ø´ÛŒØ¯.</li>
                    </ul>
                </div>
            </div>
        </section>

    </div>
    <!-- Footer -->
    <footer class="pt-16 pb-8 relative overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <div class="text-center mb-10">
                <h2 class="text-4xl font-bold mb-2 text-white">Telegram v2ran</h2>
                <p class="text-blue-200">Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ØŒ Ù‡Ù…ÛŒØ´Ù‡ Ùˆ Ù‡Ù…Ù‡â€ŒØ¬Ø§</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 max-w-2xl mx-auto mb-10">
                <!-- Developer -->
                <a href="https://t.me/v2ran" target="_blank" class="card-glass rounded-2xl p-6 flex items-center space-x-4 space-x-reverse group">
                    <div class="w-16 h-16 bg-gradient-to-br from-sky-500 to-blue-600 rounded-full flex items-center justify-center text-3xl text-white shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-user-astronaut"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-white">ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡</h3>
                        <p class="text-gray-300">Ø§Ø±ØªØ¨Ø§Ø· Ù…Ø³ØªÙ‚ÛŒÙ… Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</p>
                    </div>
                </a>
                <!-- Channel -->
                 <a href="https://t.me/v2ran" target="_blank" class="card-glass rounded-2xl p-6 flex items-center space-x-4 space-x-reverse group">
                    <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-3xl text-white shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-brands fa-telegram"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-white">Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù…</h3>
                        <p class="text-gray-300">Ú©Ø§Ù†Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø¹Ø²ÛŒØ²Ø§Ù†</p>
                    </div>
                </a>
            </div>
            <div class="border-t border-white border-opacity-20 pt-6 text-center text-blue-200 text-sm">
                <p>
                    Â© 1404 Telegram v2ran - Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ù…Ø±Ø¯Ù… Ø§ÛŒØ±Ø§Ù†
                </p>
            </div>
        </div>
    </footer>

    <script>
        // --- CONFIGURATIONS ---
        const configs = {
            cf_de_1: { name: 'VLESS - IRDevs 1 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FlwIBsf84RYZSVl1x%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fK31lnDM4w8uJ0yp1dRWlTdTdko6y-CU.pAGES.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%201' },
            cf_de_2: { name: 'VLESS - IRDevs 2 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@www.speedtest.net:443?path=%2FweIiUrqpwSQLUEGI%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lNdM4W8Uj0Yp1dRWlTDtDKo6y-Cu.pagES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%202' },
            cf_de_3: { name: 'VLESS - IRDevs 3 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.45.9:443?path=%2FSKBxgdeScAwjcuZJ%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31Lndm4w8uj0yp1drWLTdtdko6y-cU.PaGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%203' },
            cf_de_4: { name: 'VLESS - IRDevs 4 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.46.247:443?path=%2FfNX3GzNxncCIIsf7%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lndM4W8UJ0YP1DrwLtDtDKO6y-CU.pAgES.DEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%204' },
            cf_de_tr_5: { name: 'Trojan - IRDevs 5 ğŸ‡©ğŸ‡ª', config: 'trojan://%3AbC5%5Elakx%3E%24d@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FtrULF8XIBg0I5upoFe%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fK31lnDM4w8uJ0yp1dRWlTdTdko6y-CU.pAGES.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%205' },
            cf_de_tr_6: { name: 'Trojan - IRDevs 6 ğŸ‡©ğŸ‡ª', config: 'trojan://%3AbC5%5Elakx%3E%24d@www.speedtest.net:443?path=%2FtrAF6D510tD4ptv2AR%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lNdM4W8Uj0Yp1dRWlTDtDKo6y-Cu.pagES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%206' },
            cf_de_tr_7: { name: 'Trojan - IRDevs 7 ğŸ‡©ï¿½', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.45.9:443?path=%2Ftrucd7RaARX7VGCRLn%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31Lndm4w8uj0yp1drWLTdtdko6y-cU.PaGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%207' },
            cf_de_tr_8: { name: 'Trojan - IRDevs 8 ğŸ‡©ğŸ‡ª', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.46.247:443?path=%2FtrSCnmRLkssMpXzgTT%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lndM4W8UJ0YP1DrwLtDtDKO6y-CU.pAgES.DEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%208' },
            cf_plus_1: { name: 'VLESS Plus - IRDevs 1 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FXHPTFMTFoBNv6IV6&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8UJ0yP1dRwlTDTDKo6y-cU.PaGeS.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%201' },
            cf_plus_2: { name: 'VLESS Plus - IRDevs 2 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@www.speedtest.net:443?path=%2FkDPocrIW3Ice02v4&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lnDM4w8UJ0YP1dRWLtdtDKO6Y-cu.pages.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%202' },
            cf_plus_3: { name: 'VLESS Plus - IRDevs 3 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.46.247:443?path=%2FlaGekhA1Q1IhSqJe&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8uJ0Yp1drWlTdTdkO6Y-Cu.pages.deV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%203' },
            cf_plus_4: { name: 'VLESS Plus - IRDevs 4 ğŸ‡©ğŸ‡ª', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.45.9:443?path=%2FgL8gLANdh881Nj22&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31LnDm4W8uj0yP1dRwLTDTdKo6Y-cu.pAGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%204' },
            cf_plus_tr_5: { name: 'Trojan Plus - IRDevs 5 ğŸ‡©ğŸ‡ª', config: 'trojan://%3AbC5%5Elakx%3E%24d@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FtrwiiTqrBOtbrsPAWf&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8UJ0yP1dRwlTDTDKo6y-cU.PaGeS.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%205' },
            cf_plus_tr_6: { name: 'Trojan Plus - IRDevs 6 ğŸ‡©ğŸ‡ª', config: 'trojan://%3AbC5%5Elakx%3E%24d@www.speedtest.net:443?path=%2FtrmwnHKV1e9tS6xrWn&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lnDM4w8UJ0YP1dRWLtdtDKO6Y-cu.pages.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%206' },
            cf_plus_tr_7: { name: 'Trojan Plus - IRDevs 7 ğŸ‡©ğŸ‡ª', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.46.247:443?path=%2FtrCa9HmRicRGuAse4M&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8uJ0Yp1drWlTdTdkO6Y-Cu.pages.deV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%207' },
            cf_plus_tr_8: { name: 'Trojan Plus - IRDevs 8 ğŸ‡©ğŸ‡ª', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.45.9:443?path=%2FtrNs9G5VJ2vI0PxgP2&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31LnDm4W8uj0yP1dRwLTDTdKo6Y-cu.pAGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%208' },
        };

        const faqData = [
            { question: "Ø¢ÛŒØ§ Ø§ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³ØªØŸ", answer: "Ø¨Ù„Ù‡ØŒ Ø³Ø±ÙˆÛŒØ³ Telegram v2ran Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³Øª Ùˆ Ù‡Ù…ÛŒØ´Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø§Ù‚ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ù…Ø§Ù†Ø¯. Ù‡Ø¯Ù Ù…Ø§ ÙØ±Ø§Ù‡Ù… Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¢Ø²Ø§Ø¯ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ø§Ø³Øª." },
            { question: "Ú†Ø±Ø§ Ú¯Ø§Ù‡ÛŒ Ø³Ø±Ø¹Øª Ú©Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ", answer: "Ú©Ø§Ù‡Ø´ Ø³Ø±Ø¹Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø´Ù„ÙˆØºÛŒ Ø³Ø±ÙˆØ± Ø¯Ø± Ø³Ø§Ø¹Ø§Øª Ø§ÙˆØ¬ Ù…ØµØ±Ù ÛŒØ§ Ø§Ø®ØªÙ„Ø§Ù„Ø§Øª Ø´Ø¨Ú©Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø´Ù…Ø§ Ø¨Ø§Ø´Ø¯. Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø³Ø±ÙˆØ± Ø¯ÛŒÚ¯Ø±ÛŒ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¯Ø± Ø²Ù…Ø§Ù† Ø¯ÛŒÚ¯Ø±ÛŒ Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯." },
            { question: "Ø¢ÛŒØ§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² VPN Ø§Ù…Ù† Ø§Ø³ØªØŸ", answer: "Ø¨Ù„Ù‡ØŒ Ù…Ø§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„â€ŒÙ‡Ø§ÛŒ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø­ÙØ§Ø¸Øª Ø§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ù…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. ØªØ±Ø§ÙÛŒÚ© Ø´Ù…Ø§ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø§Ù…Ù† Ùˆ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø§Ø³Øª." },
            { question: "Ú†Ú¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø³Ø±Ø¹Øª Ø±Ø§ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¯Ù‡Ù…ØŸ", answer: "Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø³Ø±Ø¹ØªØŒ Ø³Ø±ÙˆØ±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø§Ø² Ù†Ø¸Ø± Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø¨Ù‡ Ø´Ù…Ø§ Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ± Ø§Ø³Øª. Ù‡Ù…Ú†Ù†ÛŒÙ†ØŒ Ø¨Ø³ØªÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø¨Ù‡Ø¨ÙˆØ¯ Ø³Ø±Ø¹Øª Ú©Ù…Ú© Ú©Ù†Ø¯." },
            { question: "Ø§Ú¯Ø± Ø³Ø±ÙˆØ± Ù‚Ø·Ø¹ Ø´ÙˆØ¯ Ú†Ù‡ Ú©Ù†Ù…ØŸ", answer: "Ú©Ø§ÙÛŒØ³Øª Ø§Ø² Ù„ÛŒØ³Øª Ø³Ø±ÙˆØ±Ù‡Ø§ØŒ ÛŒÚ© Ø³Ø±ÙˆØ± Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ùˆ Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯. Ù…Ø§ Ú†Ù†Ø¯ÛŒÙ† Ø³Ø±ÙˆØ± ÙØ¹Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ø³Ø±ÙˆÛŒØ³ Ø¯Ø§Ø±ÛŒÙ…." },
            { question: "Ø¢ÛŒØ§ Ø±ÙˆÛŒ Ù‡Ù…Ù‡ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ", answer: "Ø¨Ù„Ù‡ØŒ Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Telegram v2ran Ø±ÙˆÛŒ Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯ØŒ iOSØŒ ÙˆÛŒÙ†Ø¯ÙˆØ² Ùˆ macOS Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯Ù‡ Ø¯Ø± Ø¨Ø®Ø´ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯." }
        ];

        // --- CORE FUNCTIONS ---
        document.addEventListener('DOMContentLoaded', function() {
            if (!sessionStorage.getItem('azadiNetWelcomed')) {
                document.getElementById('welcomeModal').classList.remove('hidden');
            }

            buildFAQ();
            buildConfigList();
            updateServerStats();
            generateQR();
            setInterval(updateServerStats, 3000);
            
            // Intersection Observer for animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-slide-up');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.animated-section').forEach(section => {
                observer.observe(section);
            });
            
            getUserInfo();
            
            // Initialize Proxy Manager
            initProxyManager();
        });

        function updateServerStats() {
            const serviceStartDate = new Date('2023-01-01T00:00:00Z');
            const totalDowntimeInSeconds = 2 * 3600; 
            const now = new Date();
            const totalTimeInSeconds = (now - serviceStartDate) / 1000;
            const totalUptimeInSeconds = totalTimeInSeconds - totalDowntimeInSeconds;
            const uptimePercentage = (totalUptimeInSeconds / totalTimeInSeconds) * 100;
            document.getElementById('uptime').textContent = uptimePercentage.toFixed(4);

            const basePing = 45;
            const fluctuation = (Math.random() - 0.5) * 20;
            const currentPing = Math.round(basePing + fluctuation);
            document.getElementById('serverPing').textContent = currentPing + 'ms';
        }
        
        async function copyToClipboard(text, message) {
            try {
                await navigator.clipboard.writeText(text);
                showNotification(message, 'success');
            } catch (err) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.opacity = '0';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    showNotification(message, 'success');
                } catch (err) {
                    showNotification('Ø®Ø·Ø§ Ø¯Ø± Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù†!', 'error');
                }
                document.body.removeChild(textArea);
            }
        }

        function generateQR() {
            const selectedValue = document.getElementById('configSelect').value;
            const configData = configs[selectedValue];
            if (!configData) return;
            
            const qrContainer = document.getElementById('qrcode');
            qrContainer.innerHTML = '';
            
            try {
                const qr = qrcode(0, 'M');
                qr.addData(configData.config);
                qr.make();
                const qrSvg = qr.createSvgTag({ cellSize: 4, margin: 2, scalable: true });
                qrContainer.innerHTML = qrSvg.replace('<svg', '<svg style="width: 100%; max-width: 180px; height: auto; border-radius: 8px;"');
            } catch (error) {
                qrContainer.innerHTML = '<p class="text-red-500">Ø®Ø·Ø§ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ QR Ú©Ø¯</p>';
            }
        }

        // --- BUILDER FUNCTIONS ---
        function buildFAQ() {
            const container = document.getElementById('faq-container');
            faqData.forEach(item => {
                const faqItem = document.createElement('div');
                faqItem.className = 'card-glass rounded-2xl overflow-hidden';
                faqItem.innerHTML = `
                    <div class="faq-question flex justify-between items-center p-5 cursor-pointer hover:bg-white hover:bg-opacity-10">
                        <h3 class="font-semibold text-white">${item.question}</h3>
                        <i class="fa-solid fa-chevron-down text-gray-300 transition-transform"></i>
                    </div>
                    <div class="faq-answer">
                        <p class="p-5 pt-0 text-gray-300">${item.answer}</p>
                    </div>
                `;
                container.appendChild(faqItem);
            });

            container.addEventListener('click', function(e) {
                const question = e.target.closest('.faq-question');
                if (question) {
                    const answer = question.nextElementSibling;
                    const icon = question.querySelector('i');
                    
                    if (answer.style.maxHeight) {
                        answer.style.maxHeight = null;
                        icon.classList.remove('rotate-180');
                    } else {
                        answer.style.maxHeight = answer.scrollHeight + "px";
                        icon.classList.add('rotate-180');
                    }
                }
            });
        }

        function buildConfigList() {
            const container = document.getElementById('config-list-container');
            container.innerHTML = ''; // Clear existing
            Object.keys(configs).forEach(key => {
                const button = document.createElement('button');
                button.onclick = () => copyConfig(key);
                button.className = 'w-full bg-white bg-opacity-10 hover:bg-opacity-20 text-white py-3 rounded-lg font-medium transition-all shadow-lg hover:shadow-xl flex items-center justify-between px-4 text-sm';
                button.innerHTML = `
                    <span>${configs[key].name}</span>
                    <i class="fa-solid fa-copy"></i>
                `;
                container.appendChild(button);
            });
        }

        // --- REAL TOOLS ---
        async function getUserInfo() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                if (!response.ok) throw new Error('Failed to fetch IP info');
                const data = await response.json();
                document.getElementById('user-ip').textContent = data.ip || 'Ù†Ø§Ù…Ø´Ø®Øµ';
                document.getElementById('user-location').textContent = `${data.city || ''}, ${data.country_name || ''}`;
                document.getElementById('user-isp').textContent = data.org || 'Ù†Ø§Ù…Ø´Ø®Øµ';
                document.querySelectorAll('.animate-pulse').forEach(el => el.classList.remove('animate-pulse'));
            } catch (error) {
                document.getElementById('user-ip').textContent = 'Ø®Ø·Ø§';
                document.getElementById('user-location').textContent = 'Ø®Ø·Ø§';
                document.getElementById('user-isp').textContent = 'Ø®Ø·Ø§';
            }
        }

        async function pingServer(url, name, container) {
            const resultEl = document.createElement('div');
            resultEl.className = 'flex justify-between items-center bg-black bg-opacity-20 p-3 rounded-lg text-sm';
            resultEl.innerHTML = `<span>${name}</span> <span class="font-mono animate-pulse">Testing...</span>`;
            container.appendChild(resultEl);

            const startTime = performance.now();
            try {
                // Using a small image with a cache-busting query param for a more reliable ping
                await fetch(`https://${url}/favicon.ico?t=${new Date().getTime()}`, { mode: 'no-cors', cache: 'no-store' });
                const endTime = performance.now();
                const latency = Math.round(endTime - startTime);
                const span = resultEl.querySelector('span:last-child');
                span.textContent = `${latency} ms`;
                span.classList.remove('animate-pulse');
                if (latency < 150) span.classList.add('text-green-400');
                else if (latency < 300) span.classList.add('text-yellow-400');
                else span.classList.add('text-red-400');
            } catch (error) {
                const span = resultEl.querySelector('span:last-child');
                span.textContent = 'Failed';
                span.classList.remove('animate-pulse', 'text-yellow-400', 'text-green-400');
                span.classList.add('text-red-500');
            }
        }

        async function runAllPings() {
            const btn = document.getElementById('pingTestBtn');
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin ml-2"></i> Ø¯Ø± Ø­Ø§Ù„ ØªØ³Øª...';
            
            const container = document.getElementById('ping-list-container');
            container.innerHTML = ''; 

            const serversToPing = [
                { name: 'Cloudflare CDN', url: 'cloudflare.com' },
                { name: 'IRDevs Domain', url: 'dev1.irdevs.sbs' },
                { name: 'Germany Server', url: 'fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev' },
            ];

            const pingPromises = serversToPing.map(server => pingServer(server.url, server.name, container));
            await Promise.all(pingPromises);

            btn.disabled = false;
            btn.innerHTML = '<i class="fa-solid fa-play ml-2"></i> Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ ØªØ³Øª';
        }

        async function checkDNSLeak() {
            const btn = document.getElementById('dnsTestBtn');
            const resultContainer = document.getElementById('dns-leak-result');
            
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin ml-2"></i> Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...';
            resultContainer.innerHTML = `<div class="flex flex-col items-center text-center"><i class="fa-solid fa-spinner fa-spin text-4xl mb-4 text-white"></i><p>Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ù‡ Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ ØªØ³Øª...</p></div>`;

            try {
                // Using a reliable public service for DNS leak test
                const response = await fetch('https://www.dnsleaktest.com/json.php');
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();

                let resultHTML = `
                    <div class="text-center w-full">
                        <p class="mb-4"><strong>Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ DNS Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡:</strong></p>
                        <ul class="space-y-2 text-sm max-h-24 overflow-y-auto config-list pr-2">`;
                
                let isLeaking = false;
                let userIPCountry = '';

                if (data && data.length > 0) {
                    userIPCountry = data[0].country_name;
                    data.forEach(server => {
                        resultHTML += `<li class="bg-black bg-opacity-20 p-2 rounded-lg">${server.ip} (${server.country_name})</li>`;
                        if(server.country_code === 'IR') { // Assuming leak if an Iranian DNS is found
                            isLeaking = true;
                        }
                    });
                } else {
                     resultHTML += `<li class="bg-black bg-opacity-20 p-2 rounded-lg">Ù‡ÛŒÚ† Ø³Ø±ÙˆØ± DNS ÛŒØ§ÙØª Ù†Ø´Ø¯.</li>`;
                }
                resultHTML += `</ul>`;

                if (isLeaking) {
                    resultHTML += `
                        <div class="mt-4 p-3 rounded-lg bg-red-500 bg-opacity-30 border border-red-500">
                            <h4 class="font-bold text-red-300"><i class="fa-solid fa-exclamation-triangle ml-2"></i>Ø§Ø­ØªÙ…Ø§Ù„ Ù†Ø´Øª DNS ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯!</h4>
                            <p class="text-xs mt-1">Ø³Ø±ÙˆØ± DNS Ø§ÛŒØ±Ø§Ù† Ø¯Ø± Ù„ÛŒØ³Øª Ø´Ù…Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø´Ø¯.</p>
                        </div>`;
                } else {
                    resultHTML += `
                        <div class="mt-4 p-3 rounded-lg bg-green-500 bg-opacity-30 border border-green-500">
                            <h4 class="font-bold text-green-300"><i class="fa-solid fa-check-circle ml-2"></i>Ø§ØªØµØ§Ù„ Ø´Ù…Ø§ Ø§Ù…Ù† Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯.</h4>
                             <p class="text-xs mt-1">Ù‡ÛŒÚ† Ø³Ø±ÙˆØ± DNS Ø§Ø² Ø§ÛŒØ±Ø§Ù† ÛŒØ§ÙØª Ù†Ø´Ø¯.</p>
                        </div>`;
                }
                resultContainer.innerHTML = resultHTML;
            } catch (error) {
                resultContainer.innerHTML = `
                    <div class="text-red-400">
                        <i class="fa-solid fa-times-circle text-4xl mb-4"></i>
                        <p>Ø®Ø·Ø§ Ø¯Ø± Ø§Ù†Ø¬Ø§Ù… ØªØ³Øª. Ù„Ø·ÙØ§Ù‹ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.</p>
                    </div>`;
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<i class="fa-solid fa-search ml-2"></i> Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¬Ø¯Ø¯ Ø§Ù…Ù†ÛŒØª';
            }
        }

        // --- EVENT HANDLERS ---
        function copyConfig(configKey) {
            const configData = configs[configKey];
            if (configData && configData.config) {
                copyToClipboard(configData.config, 'âœ… Ú©Ø§Ù†ÙÛŒÚ¯ Ú©Ù¾ÛŒ Ø´Ø¯!');
            } else {
                showNotification('Ú©Ø§Ù†ÙÛŒÚ¯ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!', 'error');
            }
        }

        function copySubLink() {
            const subLink = document.getElementById('subLink').textContent.trim();
            copyToClipboard(subLink, 'âœ… Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú© Ú©Ù¾ÛŒ Ø´Ø¯!');
        }

        function closeWelcome() {
            sessionStorage.setItem('azadiNetWelcomed', 'true');
            const modal = document.getElementById('welcomeModal');
            modal.style.transition = 'opacity 0.3s ease';
            modal.style.opacity = '0';
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        // --- UI FUNCTIONS ---
        function showNotification(message, type = 'success') {
            const existing = document.querySelector('.notification-toast');
            if(existing) existing.remove();

            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
            const icon = type === 'success' ? '<i class="fa-solid fa-check-circle"></i>' : '<i class="fa-solid fa-times-circle"></i>';
            
            notification.className = `notification-toast fixed bottom-5 right-5 md:bottom-auto md:top-5 ${bgColor} text-white px-5 py-3 rounded-xl shadow-lg z-50 flex items-center space-x-3 space-x-reverse animate-fade-in`;
            notification.innerHTML = `<span class="text-xl">${icon}</span> <span class="font-medium">${message}</span>`;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }
        
        // --- PROXY MANAGER FUNCTIONS ---
        function initProxyManager() {
            // Ø¹Ù†Ø§ØµØ± DOM
            const subscriptionUrl = document.getElementById('subscriptionUrl');
            const loadBtn = document.getElementById('loadBtn');
            const pingAllBtn = document.getElementById('pingAllBtn');
            const proxyList = document.getElementById('proxyList');
            const proxyStatus = document.getElementById('proxyStatus');
            const protocolBtns = document.querySelectorAll('.protocol-btn');
            const pingOptionBtns = document.querySelectorAll('.ping-option-btn');
            const tabBtns = document.querySelectorAll('.tab-btn');
            const configTextarea = document.getElementById('configTextarea');
            const parseConfigsBtn = document.getElementById('parseConfigsBtn');
            const pingConfigsBtn = document.getElementById('pingConfigsBtn');
            const exportConfigsBtn = document.getElementById('exportConfigsBtn');
            const copyAllBtn = document.getElementById('copyAllBtn');
            const exportSelectedBtn = document.getElementById('exportSelectedBtn');
            const copySelectedBtn = document.getElementById('copySelectedBtn');
            const clearAllBtn = document.getElementById('clearAllBtn');
            
            // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø­Ø§Ù„Øª
            let proxies = [];
            let currentFilter = 'all';
            let isPinging = false;
            let pingMethod = 'http';
            let ipInfoCache = {}; // Ú©Ø´ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù„ÙˆÚ©ÛŒØ´Ù†
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ ØªØ¨â€ŒÙ‡Ø§
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    tabBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const tabId = this.getAttribute('data-tab');
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù†
            loadBtn.addEventListener('click', loadSubscription);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡ Ù¾ÛŒÙ†Ú¯ Ù‡Ù…Ù‡
            pingAllBtn.addEventListener('click', pingAllServers);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ù¾Ø±ÙˆØªÚ©Ù„
            protocolBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    protocolBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentFilter = this.dataset.protocol;
                    filterProxies(currentFilter);
                });
            });
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ´ Ù¾ÛŒÙ†Ú¯
            pingOptionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    pingOptionBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    pingMethod = this.dataset.method;
                });
            });
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ ØªØ¬Ø²ÛŒÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ…
            parseConfigsBtn.addEventListener('click', parseDirectConfigs);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÙ†Ú¯ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ…
            pingConfigsBtn.addEventListener('click', pingAllServers);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
            exportConfigsBtn.addEventListener('click', exportAllConfigs);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
            copyAllBtn.addEventListener('click', copyAllConfigs);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡â€ŒÙ‡Ø§
            exportSelectedBtn.addEventListener('click', exportSelectedConfigs);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡â€ŒÙ‡Ø§
            copySelectedBtn.addEventListener('click', copySelectedConfigs);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡
            clearAllBtn.addEventListener('click', clearAllConfigs);
            
            // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù†
            async function loadSubscription() {
                const url = subscriptionUrl.value.trim();
                
                if (!url) {
                    showProxyError('Ù„Ø·ÙØ§Ù‹ Ù„ÛŒÙ†Ú© Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                    subscriptionUrl.focus();
                    return;
                }
                
                showProxyLoading('Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù†...');
                
                try {
                    // Ø¯Ø±ÛŒØ§ÙØª Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² CORS proxy
                    const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
                    const response = await fetch(proxyUrl);
                    
                    if (!response.ok) {
                        throw new Error(`Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù†: ${response.status}`);
                    }
                    
                    const subscriptionData = await response.text();
                    await parseConfigs(subscriptionData);
                    
                    showProxySuccess(`Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯ | ${proxies.length} Ú©Ø§Ù†ÙÛŒÚ¯ ÛŒØ§ÙØª Ø´Ø¯`);
                } catch (error) {
                    console.error(error);
                    showProxyError(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù†: ${error.message}`);
                }
            }
            
            // ØªØ¬Ø²ÛŒÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ…
            function parseDirectConfigs() {
                const configs = configTextarea.value.trim();
                
                if (!configs) {
                    showProxyError('Ù„Ø·ÙØ§Ù‹ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                    configTextarea.focus();
                    return;
                }
                
                showProxyLoading('Ø¯Ø± Ø­Ø§Ù„ ØªØ¬Ø²ÛŒÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§...');
                
                try {
                    parseConfigs(configs);
                    showProxySuccess(`${proxies.length} Ú©Ø§Ù†ÙÛŒÚ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØ¬Ø²ÛŒÙ‡ Ø´Ø¯`);
                } catch (error) {
                    console.error(error);
                    showProxyError(`Ø®Ø·Ø§ Ø¯Ø± ØªØ¬Ø²ÛŒÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§: ${error.message}`);
                }
            }
            
            // ØªØ¬Ø²ÛŒÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ (Ù…Ø´ØªØ±Ú© Ø¨ÛŒÙ† Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† Ùˆ Ú©Ø§Ù†ÙÛŒÚ¯ Ù…Ø³ØªÙ‚ÛŒÙ…)
            async function parseConfigs(configData) {
                // ØªÙ‚Ø³ÛŒÙ… Ø¨Ù‡ Ø®Ø·ÙˆØ·
                const lines = configData.split('\n').filter(line => line.trim() !== '');
                
                proxies = [];
                
                for (const line of lines) {
                    try {
                        const trimmedLine = line.trim();
                        if (!trimmedLine) continue;
                        
                        let name = 'Ø¨Ø¯ÙˆÙ† Ù†Ø§Ù…';
                        let protocol = 'other';
                        let configLine = trimmedLine;
                        
                        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Ø§Ù… Ø§Ø² Ù‚Ø³Ù…Øª Ø¨Ø¹Ø¯ Ø§Ø² #
                        const hashIndex = configLine.lastIndexOf('#');
                        if (hashIndex !== -1) {
                            name = decodeURIComponent(configLine.substring(hashIndex + 1));
                            configLine = configLine.substring(0, hashIndex);
                        }
                        
                        // ØªØ´Ø®ÛŒØµ Ù¾Ø±ÙˆØªÚ©Ù„
                        if (configLine.startsWith('vless://')) {
                            protocol = 'vless';
                        } else if (configLine.startsWith('vmess://')) {
                            protocol = 'vmess';
                        } else if (configLine.startsWith('trojan://')) {
                            protocol = 'trojan';
                        } else if (configLine.startsWith('ss://')) {
                            protocol = 'shadowsocks';
                        }
                        
                        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ± Ùˆ Ù¾ÙˆØ±Øª
                        let server = 'Ù†Ø§Ù…Ø´Ø®Øµ';
                        let port = 'Ù†Ø§Ù…Ø´Ø®Øµ';
                        let ipInfo = {
                            country: 'Ø¯Ø± Ø­Ø§Ù„ ØªØ´Ø®ÛŒØµ...',
                            city: 'Ø¯Ø± Ø­Ø§Ù„ ØªØ´Ø®ÛŒØµ...',
                            region: 'Ø¯Ø± Ø­Ø§Ù„ ØªØ´Ø®ÛŒØµ...',
                            isp: 'Ø¯Ø± Ø­Ø§Ù„ ØªØ´Ø®ÛŒØµ...',
                            countryCode: ''
                        };
                        
                        try {
                            if (protocol === 'vmess') {
                                // Ø¨Ø±Ø§ÛŒ vmess
                                const vmessContent = configLine.substring(8);
                                const decoded = atob(vmessContent);
                                const vmessConfig = JSON.parse(decoded);
                                server = vmessConfig.add;
                                port = vmessConfig.port;
                                // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø§Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ú©Ø§Ù†ÙÛŒÚ¯ Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª
                                if (vmessConfig.ps && name === 'Ø¨Ø¯ÙˆÙ† Ù†Ø§Ù…') {
                                    name = vmessConfig.ps;
                                }
                            } else {
                                // Ø¨Ø±Ø§ÛŒ Ø³Ø§ÛŒØ± Ù¾Ø±ÙˆØªÚ©Ù„â€ŒÙ‡Ø§
                                const urlObj = new URL(configLine);
                                server = urlObj.hostname;
                                port = urlObj.port || (urlObj.protocol === 'https:' ? '443' : '80');
                            }
                            
                            // ØªØ´Ø®ÛŒØµ Ú©Ø´ÙˆØ± Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ ipapi.co
                            if (server !== 'Ù†Ø§Ù…Ø´Ø®Øµ') {
                                ipInfo = await getIpInfo(server);
                            }
                        } catch (e) {
                            console.error('Ø®Ø·Ø§ Ø¯Ø± ØªØ¬Ø²ÛŒÙ‡ Ú©Ø§Ù†ÙÛŒÚ¯:', e);
                        }
                        
                        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ©Ø³ÛŒ Ø¨Ù‡ Ù„ÛŒØ³Øª
                        proxies.push({
                            name: name,
                            protocol: protocol,
                            link: configLine,
                            server: server,
                            port: port,
                            ipInfo: ipInfo,
                            ping: '---',
                            pingStatus: 'unknown',
                            selected: false
                        });
                        
                    } catch (e) {
                        console.error('Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø®Ø·:', line, e);
                    }
                }
                
                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ¹Ø¯Ø§Ø¯ Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± ÙÛŒÙ„ØªØ±Ù‡Ø§
                updateFilterCounts();
                
                // Ù†Ù…Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§
                filterProxies(currentFilter);
            }
            
            // ØªØ´Ø®ÛŒØµ Ø§Ø·Ù„Ø§Ø¹Ø§Øª IP Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ ipapi.co
            async function getIpInfo(ipOrDomain) {
                // Ø§Ú¯Ø± Ù…Ù‚Ø¯Ø§Ø± IP ÛŒØ§ Ø¯Ø§Ù…Ù†Ù‡ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª
                if (!ipOrDomain || ipOrDomain === 'Ù†Ø§Ù…Ø´Ø®Øµ') {
                    return { 
                        country: 'Ù†Ø§Ù…Ø´Ø®Øµ', 
                        city: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        region: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        isp: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        countryCode: ''
                    };
                }

                // Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø´
                if (ipInfoCache[ipOrDomain]) {
                    return ipInfoCache[ipOrDomain];
                }

                try {
                    // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ ipapi.co (Ø±Ø§ÛŒÚ¯Ø§Ù†)
                    const response = await fetch(`https://ipapi.co/${ipOrDomain}/json/`);
                    const data = await response.json();
                    
                    if (data.error) {
                        console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù„ÙˆÚ©ÛŒØ´Ù†:', data.reason);
                        return { 
                            country: 'Ù†Ø§Ù…Ø´Ø®Øµ', 
                            city: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                            region: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                            isp: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                            countryCode: ''
                        };
                    }
                    
                    const result = {
                        country: data.country_name || 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        city: data.city || 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        region: data.region || 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        isp: data.org || 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        countryCode: data.country_code ? data.country_code.toLowerCase() : ''
                    };
                    
                    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Ú©Ø´
                    ipInfoCache[ipOrDomain] = result;
                    return result;
                } catch (error) {
                    console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª IP:', error);
                    return { 
                        country: 'Ù†Ø§Ù…Ø´Ø®Øµ', 
                        city: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        region: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        isp: 'Ù†Ø§Ù…Ø´Ø®Øµ',
                        countryCode: ''
                    };
                }
            }
            
            // Ù¾ÛŒÙ†Ú¯ Ù‡Ù…Ù‡ Ø³Ø±ÙˆØ±Ù‡Ø§
            async function pingAllServers() {
                if (isPinging) return;
                if (proxies.length === 0) {
                    showProxyError('Ø§Ø¨ØªØ¯Ø§ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯');
                    return;
                }
                
                isPinging = true;
                disableProxyButtons(true);
                showProxyLoading(`Ø¯Ø± Ø­Ø§Ù„ Ù¾ÛŒÙ†Ú¯ ${proxies.length} Ø³Ø±ÙˆØ±...`);
                
                try {
                    // Ù¾ÛŒÙ†Ú¯ Ù‡Ø± Ø³Ø±ÙˆØ± Ø¨Ù‡ ØªØ±ØªÛŒØ¨
                    for (let i = 0; i < proxies.length; i++) {
                        const proxy = proxies[i];
                        proxyStatus.textContent = `Ø¯Ø± Ø­Ø§Ù„ Ù¾ÛŒÙ†Ú¯ Ø³Ø±ÙˆØ± ${i+1} Ø§Ø² ${proxies.length}: ${proxy.name}`;
                        
                        try {
                            let pingTime;
                            
                            if (pingMethod === 'http') {
                                pingTime = await pingWithHttp(proxy.server, proxy.port);
                            } else if (pingMethod === 'tcp') {
                                pingTime = await pingWithTcp(proxy.server, proxy.port);
                            } else {
                                // Ø±ÙˆØ´ ØªØ±Ú©ÛŒØ¨ÛŒ - Ø§Ø¨ØªØ¯Ø§ HTTP Ø³Ù¾Ø³ TCP
                                try {
                                    pingTime = await pingWithHttp(proxy.server, proxy.port);
                                } catch {
                                    pingTime = await pingWithTcp(proxy.server, proxy.port);
                                }
                            }
                            
                            proxy.ping = pingTime + ' ms';
                            
                            // ØªØ¹ÛŒÛŒÙ† ÙˆØ¶Ø¹ÛŒØª Ù¾ÛŒÙ†Ú¯
                            if (pingTime < 200) {
                                proxy.pingStatus = 'good';
                            } else if (pingTime < 500) {
                                proxy.pingStatus = 'medium';
                            } else {
                                proxy.pingStatus = 'bad';
                            }
                        } catch (e) {
                            proxy.ping = 'Timeout';
                            proxy.pingStatus = 'bad';
                        }
                        
                        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´
                        filterProxies(currentFilter);
                    }
                    
                    showProxySuccess(`Ù¾ÛŒÙ†Ú¯ ${proxies.length} Ø³Ø±ÙˆØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯`);
                } catch (error) {
                    console.error(error);
                    showProxyError(`Ø®Ø·Ø§ Ø¯Ø± Ù¾ÛŒÙ†Ú¯ Ø³Ø±ÙˆØ±Ù‡Ø§: ${error.message}`);
                } finally {
                    isPinging = false;
                    disableProxyButtons(false);
                }
            }
            
            // Ù¾ÛŒÙ†Ú¯ Ø¨Ø§ Ø±ÙˆØ´ HTTP
            function pingWithHttp(host, port) {
                return new Promise((resolve, reject) => {
                    const startTime = Date.now();
                    const timeout = 3000; // 3 Ø«Ø§Ù†ÛŒÙ‡ ØªØ§ÛŒÙ…â€ŒØ§ÙˆØª
                    
                    // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© Ù…Ø³ÛŒØ± ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø´
                    const randomPath = Math.random().toString(36).substring(7);
                    const url = `https://${host}:${port}/${randomPath}`;
                    
                    fetch(url, {
                        method: 'HEAD',
                        mode: 'no-cors',
                        cache: 'no-store'
                    })
                    .then(() => {
                        const latency = Date.now() - startTime;
                        resolve(latency);
                    })
                    .catch(() => {
                        const latency = Date.now() - startTime;
                        // Ø­ØªÛŒ Ø§Ú¯Ø± Ø®Ø·Ø§ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø® Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†ÛŒÙ…
                        resolve(latency);
                    });
                    
                    setTimeout(() => {
                        reject(new Error('Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯'));
                    }, timeout);
                });
            }
            
            // Ù¾ÛŒÙ†Ú¯ Ø¨Ø§ Ø±ÙˆØ´ TCP (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡)
            function pingWithTcp(host, port) {
                return new Promise((resolve, reject) => {
                    const startTime = Date.now();
                    const timeout = 3000;
                    
                    const img = new Image();
                    img.src = `https://${host}:${port}/favicon.ico?t=${Date.now()}`;
                    
                    img.onload = function() {
                        const latency = Date.now() - startTime;
                        resolve(latency);
                    };
                    
                    img.onerror = function() {
                        const latency = Date.now() - startTime;
                        // Ø­ØªÛŒ Ø§Ú¯Ø± Ø®Ø·Ø§ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø® Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†ÛŒÙ…
                        resolve(latency);
                    };
                    
                    setTimeout(() => {
                        reject(new Error('Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯'));
                    }, timeout);
                });
            }
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ¹Ø¯Ø§Ø¯ Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± ÙÛŒÙ„ØªØ±Ù‡Ø§
            function updateFilterCounts() {
                const counts = {
                    'all': proxies.length,
                    'vless': proxies.filter(p => p.protocol === 'vless').length,
                    'vmess': proxies.filter(p => p.protocol === 'vmess').length,
                    'trojan': proxies.filter(p => p.protocol === 'trojan').length,
                    'shadowsocks': proxies.filter(p => p.protocol === 'shadowsocks').length
                };
                
                protocolBtns.forEach(btn => {
                    const protocol = btn.dataset.protocol;
                    const countSpan = btn.querySelector('.proxy-count');
                    countSpan.textContent = counts[protocol];
                });
            }
            
            // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù¾Ø±ÙˆØªÚ©Ù„
            function filterProxies(protocol) {
                if (protocol === 'all') {
                    displayProxies(proxies);
                } else {
                    const filtered = proxies.filter(p => p.protocol === protocol);
                    displayProxies(filtered);
                }
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± Ù„ÛŒØ³Øª
            function displayProxies(proxiesToShow) {
                if (proxiesToShow.length === 0) {
                    proxyList.innerHTML = '<div class="no-proxies"><i class="fas fa-exclamation-circle"></i><h3>Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p>Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</p></div>';
                    return;
                }
                
                proxyList.innerHTML = '';
                
                proxiesToShow.forEach((proxy, index) => {
                    const card = document.createElement('div');
                    card.className = 'proxy-card';
                    
                    let protocolClass = 'other';
                    if (proxy.protocol === 'vless') protocolClass = 'vless';
                    else if (proxy.protocol === 'vmess') protocolClass = 'vmess';
                    else if (proxy.protocol === 'trojan') protocolClass = 'trojan';
                    else if (proxy.protocol === 'shadowsocks') protocolClass = 'shadowsocks';
                    
                    // ØªØ¹ÛŒÛŒÙ† Ú©Ù„Ø§Ø³ ÙˆØ¶Ø¹ÛŒØª Ù¾ÛŒÙ†Ú¯
                    let pingClass = '';
                    if (proxy.pingStatus === 'good') pingClass = 'ping-good';
                    else if (proxy.pingStatus === 'medium') pingClass = 'ping-medium';
                    else if (proxy.pingStatus === 'bad') pingClass = 'ping-bad';
                    
                    // Ù†Ù…Ø§ÛŒØ´ Ù¾Ø±Ú†Ù… Ú©Ø´ÙˆØ± Ø§Ú¯Ø± Ú©Ø¯ Ú©Ø´ÙˆØ± Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø´Ø¯
                    const flagHtml = proxy.ipInfo.countryCode ? 
                        `<img src="https://flagcdn.com/16x12/${proxy.ipInfo.countryCode}.png" class="flag-icon" alt="${proxy.ipInfo.country}">` : 
                        '';
                    
                    card.innerHTML = `
                        <div class="card-header">
                            <div class="proxy-name">
                                <input type="checkbox" id="proxy-${index}" ${proxy.selected ? 'checked' : ''} class="proxy-checkbox">
                                <label for="proxy-${index}">${proxy.name}</label>
                            </div>
                            <div class="protocol ${protocolClass}">
                                <i class="fas fa-${getProtocolIcon(proxy.protocol)}"></i>
                                ${proxy.protocol.toUpperCase()}
                            </div>
                        </div>
                        <div class="proxy-details">
                            <div class="detail-item">
                                <span class="detail-label">Ø³Ø±ÙˆØ±</span>
                                <span class="detail-value">${proxy.server}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Ù¾ÙˆØ±Øª</span>
                                <span class="detail-value">${proxy.port}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Ú©Ø´ÙˆØ±</span>
                                <span class="detail-value">${proxy.ipInfo.country} ${flagHtml}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Ø´Ù‡Ø±/Ø§Ø³ØªØ§Ù†</span>
                                <span class="detail-value">${proxy.ipInfo.city}, ${proxy.ipInfo.region}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Ø§Ø±Ø§Ø¦Ù‡ Ø¯Ù‡Ù†Ø¯Ù‡</span>
                                <span class="detail-value">${proxy.ipInfo.isp}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Ù¾ÛŒÙ†Ú¯</span>
                                <span class="detail-value">
                                    ${proxy.ping}
                                    ${proxy.pingStatus !== 'unknown' ? `<span class="ping-indicator ${pingClass}"></span>` : ''}
                                </span>
                            </div>
                        </div>
                        <button class="copy-btn" data-link="${proxy.link}">
                            <i class="fas fa-copy"></i> Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú© Ú©Ø§Ù†ÙÛŒÚ¯
                        </button>
                    `;
                    
                    proxyList.appendChild(card);
                    
                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø±ÙˆÛŒØ¯Ø§Ø¯ ØªØºÛŒÛŒØ± Ø¨Ù‡ Ú†Ú©â€ŒØ¨Ø§Ú©Ø³
                    const checkbox = card.querySelector(`#proxy-${index}`);
                    checkbox.addEventListener('change', function() {
                        proxy.selected = this.checked;
                    });
                });
                
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù¾ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
                document.querySelectorAll('.copy-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const link = this.getAttribute('data-link');
                        copyToClipboard(link, 'âœ… Ú©Ø§Ù†ÙÛŒÚ¯ Ú©Ù¾ÛŒ Ø´Ø¯!');
                        
                        // Ù†Ù…Ø§ÛŒØ´ Ø§ÙÚ©Øª Ú©Ù¾ÛŒ Ù…ÙˆÙÙ‚
                        const originalText = this.innerHTML;
                        this.innerHTML = '<i class="fas fa-check"></i> Ú©Ù¾ÛŒ Ø´Ø¯!';
                        this.style.background = 'linear-gradient(to right, #27ae60, #219653)';
                        
                        setTimeout(() => {
                            this.innerHTML = originalText;
                            this.style.background = 'linear-gradient(to right, #2ecc71, #27ae60)';
                        }, 2000);
                    });
                });
            }
            
            // Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
            function exportAllConfigs() {
                if (proxies.length === 0) {
                    showProxyError('Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯');
                    return;
                }
                
                const allConfigs = proxies.map(p => p.link).join('\n');
                downloadAsFile(allConfigs, 'all-configs.txt');
                showProxySuccess('ØªÙ…Ø§Ù… Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ø¯Ù†Ø¯');
            }
            
            // Ú©Ù¾ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
            function copyAllConfigs() {
                if (proxies.length === 0) {
                    showProxyError('Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯');
                    return;
                }
                
                const allConfigs = proxies.map(p => p.link).join('\n');
                copyToClipboard(allConfigs, 'âœ… ØªÙ…Ø§Ù… Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ú©Ù¾ÛŒ Ø´Ø¯Ù†Ø¯!');
                showProxySuccess('ØªÙ…Ø§Ù… Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ù¾ÛŒ Ø´Ø¯Ù†Ø¯');
            }
            
            // Ø®Ø±ÙˆØ¬ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡â€ŒÙ‡Ø§
            function exportSelectedConfigs() {
                const selectedConfigs = proxies.filter(p => p.selected).map(p => p.link);
                
                if (selectedConfigs.length === 0) {
                    showProxyError('Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª');
                    return;
                }
                
                downloadAsFile(selectedConfigs.join('\n'), 'selected-configs.txt');
                showProxySuccess(`${selectedConfigs.length} Ú©Ø§Ù†ÙÛŒÚ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ø¯Ù†Ø¯`);
            }
            
            // Ú©Ù¾ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡â€ŒÙ‡Ø§
            function copySelectedConfigs() {
                const selectedConfigs = proxies.filter(p => p.selected).map(p => p.link);
                
                if (selectedConfigs.length === 0) {
                    showProxyError('Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª');
                    return;
                }
                
                copyToClipboard(selectedConfigs.join('\n'), `âœ… ${selectedConfigs.length} Ú©Ø§Ù†ÙÛŒÚ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ú©Ù¾ÛŒ Ø´Ø¯Ù†Ø¯!`);
                showProxySuccess(`${selectedConfigs.length} Ú©Ø§Ù†ÙÛŒÚ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ù¾ÛŒ Ø´Ø¯Ù†Ø¯`);
            }
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§
            function clearAllConfigs() {
                if (proxies.length === 0) {
                    showProxyError('Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯');
                    return;
                }
                
                if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ØªÙ…Ø§Ù… Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ')) {
                    proxies = [];
                    updateFilterCounts();
                    filterProxies(currentFilter);
                    configTextarea.value = '';
                    showProxySuccess('ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯');
                }
            }
            
            // Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÙØ§ÛŒÙ„
            function downloadAsFile(content, filename) {
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
            
            // Ø¢ÛŒÚ©ÙˆÙ† Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù¾Ø±ÙˆØªÚ©Ù„
            function getProtocolIcon(protocol) {
                switch(protocol) {
                    case 'vless': return 'bolt';
                    case 'vmess': return 'bolt-lightning';
                    case 'trojan': return 'horse-head';
                    case 'shadowsocks': return 'ghost';
                    default: return 'question';
                }
            }
            
            // ØºÛŒØ±ÙØ¹Ø§Ù„/ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
            function disableProxyButtons(disabled) {
                const buttons = [
                    loadBtn, pingAllBtn, parseConfigsBtn, pingConfigsBtn,
                    exportConfigsBtn, copyAllBtn, exportSelectedBtn, copySelectedBtn, clearAllBtn
                ];
                
                buttons.forEach(btn => {
                    btn.disabled = disabled;
                });
            }
            
            // Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ
            function showProxyLoading(message) {
                proxyStatus.textContent = message;
                proxyStatus.style.color = '#8395a7';
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
            function showProxySuccess(message) {
                proxyStatus.textContent = `âœ… ${message}`;
                proxyStatus.style.color = '#2ecc71';
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ø®Ø·Ø§
            function showProxyError(message) {
                proxyStatus.textContent = `âŒ ${message}`;
                proxyStatus.style.color = '#e74c3c';
            }
        }
    </script>
</body>
</html>